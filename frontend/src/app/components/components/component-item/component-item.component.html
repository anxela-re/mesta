<div
  class="min-w-[150px] max-w-[150px] m-2 transform transition delay-10 duration-300 ease-in-out scale-0"
  (click)="onClick()"
  [ngClass]="{ 'scale-100': properties }"
>
  <app-dashed-box [color]="phase?.color" [selected]="percentage > 0 || !fromFormulation">
    <h4
      [ngStyle]="{
        color: percentage > 0 || !fromFormulation ? '#fff' : phase?.color
      }"
      class="font-bold group-hover:!text-basic-500"
    >
      {{ component?.name }}
    </h4>
    <app-properties-display
      [properties]="properties"
      [color]="phase.color"
      [selected]="percentage > 0 || !fromFormulation"
      [alignRight]="true"
    ></app-properties-display>
    <div
      *ngIf="fromFormulation || fromRecipeDetails"
      class="flex flex-row gap-2 justify-center font-bold"
    >
      <button
        *ngIf="!fromRecipeDetails"
        type="button"
        class="group-hover:!text-basic-500 outline-none"
        [ngStyle]="{
          color: percentage > 0 || !fromFormulation ? '#fff' : phase?.color
        }"
        (click)="decrement($event)"
      >
        <fa-icon [icon]="faMinus"></fa-icon>
      </button>
      <div class="w-full">
        <input
          type="number"
          min="0"
          max="100"
          [(ngModel)]="percentage"
          (change)="onChangePercentage($event)"
          [ngStyle]="{
            color: percentage > 0 || !fromFormulation ? '#fff' : phase?.color
          }"
          class="outline-none group-hover:!text-basic-500 border-none bg-transparent w-[50%] text-right"
        />
        <span
          [ngStyle]="{
            color: percentage > 0 || !fromFormulation ? '#fff' : phase?.color
          }"
          class="h-[100%] group-hover:!text-basic-500 w-[50%]"
        >
          %
        </span>
      </div>
      <button
        *ngIf="!fromRecipeDetails"
        type="button"
        class="group-hover:!text-basic-500 outline-none"
        [ngStyle]="{
          color: percentage > 0 || !fromFormulation ? '#fff' : phase?.color
        }"
        (click)="increment($event)"
      >
        <fa-icon [icon]="faPlus"></fa-icon>
      </button>
    </div>
  </app-dashed-box>
</div>

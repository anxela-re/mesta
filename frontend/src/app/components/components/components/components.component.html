<div class="p-2 limit-container">
  <div
    *ngIf="!fromFormulation && !fromRecipeDetails"
    class="flex flex-row align-items-center w-full flex-wrap md:flex-nowrap"
  >
    <h2>Componentes</h2>
    <div class="flex flex-row justify-between w-full">
      <span class="md:before:content-['|'] md:before:mx-4"
        >{{ components?.length || 0 }} componentes</span
      >

      <button type="button" (click)="createComponent()" class="btn btn-primary">
        <fa-icon [icon]="faPlus"></fa-icon>
      </button>
    </div>
  </div>
  <div class="flex flex-column">
    <input
      type="text"
      class="border-2 border-secondary-100 rounded-full py-2 px-4 w-full my-2"
      placeholder="Buscar componente"
      [(ngModel)]="searchTerm"
      (keyup)="search()"
    />
    <div>
      
    </div>
  </div>
  <div class="accordion">
    <app-components-phase
      *ngFor="let phase of phases"
      [phase]="phase"
      [components]="filterByPhase(phase.id)"
      [fromFormulation]="fromFormulation"
      [fromRecipeDetails]="fromRecipeDetails"
      [percentage]="getPhasePercentage(phase.id)"
      [componentArrayControl]="componentArrayControl"
      [recipeComponents]="recipeComponents"
    ></app-components-phase>
  </div>
</div>
